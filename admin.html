<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>搶答控制台</title>
</head>
<body>
<h2>搶答控制台</h2>
<button id="startBtn">開始倒數</button>
<span id="countdown">5</span> 秒

<script>
const startBtn = document.getElementById('startBtn');
const countdownEl = document.getElementById('countdown');

// 建立廣播頻道
const channel = new BroadcastChannel('quiz_channel');

startBtn.onclick = () => {
  let timeLeft = 5; // 倒數秒數
  countdownEl.innerText = timeLeft;

  const interval = setInterval(() => {
    timeLeft--;
    countdownEl.innerText = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(interval);
      countdownEl.innerText = "開始搶答!";
      // 通知所有參賽者開放搶答
      channel.postMessage({ action: 'enableBuzz' });
    }
  }, 1000);
};
</script>
</body>
</html>
